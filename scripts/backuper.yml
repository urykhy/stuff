log: /tmp/backuper
fixtures:
  restic:
    etc: tar.zst
  yandex:
    etc: tar.zst
  flash:
    etc: tar.zst
  tar:
    nextcloud: no_dot
    home: no_cd
    etc: no_cd

destinations:
  flash:
    destination: "/media/flash/elf/"
    cmd: "rsync --one-file-system -av --relative --delete-excluded --delete --size-only"
  restic:
    cmd: "restic backup --one-file-system"
  yandex:
    cmd: "rclone -v sync"
    destination: "yandex-secret:"
  tar:
    cmd: "tar -cf - "
    destination: "| zstd -6 -T6 > /u02/backup/"
    suffix: ".tar.zst"

folders:
  etc:
    path: /etc /home/config
    destinations: [restic, flash, tar]
    tag: config
    sudo: true

  home_config:
    path: /home/ury/.config
    destinations: [restic]
    tag: config
  nextcloud:
    path: /u01/docker/volumes/nextcloud/_data/ config data themes
    destinations: [tar]
  firefox:
    path: /home/ury/.mozilla
    destinations: [tar]
  thunderbird:
    path: /home/ury/.thunderbird
    destinations: [tar]
  chromium:
    path: /home/ury/.config/chromium
    destinations: [tar]
  home:
    path: /home/ury/{bin,code,devel,secure,www,.gnupg,.ssh,.weechat}
    destinations: [restic, flash, tar]
    tag: main
  notes:
    path: /home/ury/Notes
    destinations: [restic, flash]
    tag: books
  wisdom:
    path: /home/ury/wisdom
    destinations: [restic, flash, yandex, tar]
    tag: books

  books:
    path: /u02/books
    destinations: [flash]
  camera:
    path: /u02/camera
    destinations: [flash, yandex]
  images:
    path: /u02/images
    destinations: [flash, yandex]
  ios:
    path: /u02/ios
    destinations: [flash, yandex]
  restic:
    path: /u02/restic
    destinations: [flash]
  nextcloud:
    path: /u02/backup/nextcloud.tar.zst
    destinations: [flash]

  #android:
    #path: /u02/android
    #destinations: [flash]
